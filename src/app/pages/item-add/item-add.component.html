<div class="add-item-container">
  <div class="add-item-card">
    <h2>Add New Item</h2>
    <div class="accent-line"></div>

    <form [formGroup]="itemForm" (ngSubmit)="onSubmit()" class="item-form">
      <!-- Item Name -->
      <div class="form-group">
        <label for="name">Item Name</label>
        <input
          type="text"
          id="name"
          formControlName="name"
          [class.invalid]="name?.invalid && (name?.dirty || name?.touched)"
        />
        <div
          *ngIf="name?.invalid && (name?.dirty || name?.touched)"
          class="error-message"
        >
          <small *ngIf="name?.errors?.['required']"
            >Item name is required</small
          >
          <small *ngIf="name?.errors?.['minlength']"
            >Item name must be at least 3 characters</small
          >
        </div>
      </div>

      <!-- Quantity -->
      <div class="form-group">
        <label for="quantityAvailable">Quantity</label>
        <input
          type="number"
          id="quantityAvailable"
          formControlName="quantityAvailable"
          [class.invalid]="
            quantityAvailable?.invalid &&
            (quantityAvailable?.dirty || quantityAvailable?.touched)
          "
        />
        <div
          *ngIf="
            quantityAvailable?.invalid &&
            (quantityAvailable?.dirty || quantityAvailable?.touched)
          "
          class="error-message"
        >
          <small *ngIf="quantityAvailable?.errors?.['required']"
            >Quantity is required</small
          >
          <small *ngIf="quantityAvailable?.errors?.['min']"
            >Quantity must be 0 or greater</small
          >
        </div>
      </div>

      <!-- Category -->
      <div class="form-group">
        <label for="category">Category</label>
        <select
          id="category"
          formControlName="category"
          [class.invalid]="
            category?.invalid && (category?.dirty || category?.touched)
          "
        >
          <option value="">Select Category</option>
          <option *ngFor="let cat of categories" [value]="cat">
            {{ cat }}
          </option>
        </select>
        <div
          *ngIf="category?.invalid && (category?.dirty || category?.touched)"
          class="error-message"
        >
          <small *ngIf="category?.errors?.['required']"
            >Category is required</small
          >
        </div>
      </div>

      <!-- Vendor Name (Optional) -->
      <div class="form-group">
        <label for="vendorName">Vendor Name</label>
        <input type="text" id="vendorName" formControlName="vendorName" />
      </div>

      <!-- Vendor Contact (Optional) -->
      <div class="form-group">
        <label for="vendorContact">Vendor Contact</label>
        <input type="text" id="vendorContact" formControlName="vendorContact" />
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        [disabled]="itemForm.invalid || isSubmitting"
        class="submit-button"
      >
        <span *ngIf="!isSubmitting">Add Item</span>
        <span *ngIf="isSubmitting" class="loader"></span>
      </button>
    </form>
  </div>
</div>
